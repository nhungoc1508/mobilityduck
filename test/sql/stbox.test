require mobilityduck

query I
SELECT stbox 'STBOX X((1.0,2.0),(3.0,4.0))';
----
STBOX X((1,2),(3,4))

query I
SELECT stbox 'STBOX Z((1.0,2.0,3.0),(4.0,5.0,6.0))';
----
STBOX Z((1,2,3),(4,5,6))

query I
SELECT stbox 'STBOX XT(((1.0,2.0),(3.0,4.0)),[2001-01-01, 2001-01-02])';
----
STBOX XT(((1,2),(3,4)),[2001-01-01 00:00:00+00, 2001-01-02 00:00:00+00])

query I
SELECT stbox 'STBOX ZT(((1.0,2.0,3.0),(4.0,5.0,6.0)),[2001-01-01, 2001-01-02])';
----
STBOX ZT(((1,2,3),(4,5,6)),[2001-01-01 00:00:00+00, 2001-01-02 00:00:00+00])

query I
SELECT stbox 'STBOX T([2001-01-01, 2001-01-02])';
----
STBOX T([2001-01-01 00:00:00+00, 2001-01-02 00:00:00+00])

query I
SELECT stbox 'GEODSTBOX Z((1.0,2.0,3.0),(1.0,2.0,3.0))';
----
SRID=4326;GEODSTBOX Z((1,2,3),(1,2,3))

query I
SELECT stbox 'GEODSTBOX T([2001-01-01, 2001-01-02])';
----
GEODSTBOX T([2001-01-01 00:00:00+00, 2001-01-02 00:00:00+00])

query I
SELECT stbox 'GEODSTBOX ZT(((1.0,2.0,3.0),(1.0,2.0,3.0)),[2001-01-01, 2001-01-02])';
----
SRID=4326;GEODSTBOX ZT(((1,2,3),(1,2,3)),[2001-01-01 00:00:00+00, 2001-01-02 00:00:00+00])

query I
SELECT stbox('STBOX X((1.0,2.0),(3.0,4.0))');
----
STBOX X((1,2),(3,4))

query I
SELECT asText(stbox 'STBOX XT(((1.123456789,1.23456789),(2.12345678,2.123456789)),[2000-01-01,2000-01-02])');
----
STBOX XT(((1.123456789,1.23456789),(2.12345678,2.123456789)),[2000-01-01 00:00:00+00, 2000-01-02 00:00:00+00])

query I
SELECT stboxFromBinary(asBinary(stbox 'SRID=7844;GEODSTBOX ZT(((1,1,1),(1,1,1)),[2000-01-01, 2000-01-01])'));
----
SRID=7844;GEODSTBOX ZT(((1,1,1),(1,1,1)),[2000-01-01 00:00:00+00, 2000-01-01 00:00:00+00])

# query I
# SELECT stboxFromHexWKB(asHexWKB(stbox 'SRID=7844;GEODSTBOX ZT(((1,1,1),(1,1,1)),[2000-01-01, 2000-01-01])'));
# ----
# SRID=7844;GEODSTBOX ZT(((1,1,1),(1,1,1)),[2000-01-01 00:00:00+00, 2000-01-01 00:00:00+00])

query I
SELECT area(stbox 'STBOX X((1.0,2.0),(3.0,4.0))');
----
4

query I
SELECT area(stbox 'STBOX Z((1.0,2.0,3.0),(4.0,5.0,6.0))');
----
9

query I
SELECT area(stbox 'STBOX XT(((1.0,2.0),(3.0,4.0)),[2000-01-01, 2000-01-02])');
----
4

query I
SELECT area(stbox 'STBOX ZT(((1.0,2.0,3.0),(4.0,5.0,6.0)),[2000-01-01,2000-01-02])');
----
9

query I
SELECT round(area(stbox 'GEODSTBOX ZT(((1.0,2.0,3.0),(4.0,5.0,6.0)),[2000-01-01,2000-01-02])'), 1);
----
110593375170.3

query I
SELECT expandSpace(stbox 'STBOX XT(((1.0,2.0),(1.0,2.0)),[2000-01-01,2000-01-01])', 2.0);
----
STBOX XT(((-1,0),(3,4)),[2000-01-01 00:00:00+00, 2000-01-01 00:00:00+00])

query I
SELECT expandSpace(stbox 'STBOX XT(((1.0,1.0),(2.0,2.0)),[2000-01-01,2000-01-01])', -0.5);
----
STBOX XT(((1.5,1.5),(1.5,1.5)),[2000-01-01 00:00:00+00, 2000-01-01 00:00:00+00])

query I
SELECT STBOX(ST_Point(1, 1)::WKB_BLOB);
----
STBOX X((1,1),(1,1))

query I
SELECT ST_Point(1, 1)::WKB_BLOB::STBOX;
----
STBOX X((1,1),(1,1))

query I
SELECT tgeompoint 'Point(1 1)@2000-01-01' && stbox 'STBOX X((1.0,2.0),(1.0,2.0))';
----
false

query I
SELECT tgeompoint '{Point(1 1)@2000-01-01, Point(2 2)@2000-01-02, Point(1 1)@2000-01-03}' && stbox 'STBOX X((1.0,2.0),(1.0,2.0))';
----
true

query I
SELECT stbox 'STBOX X((1.0,1.0),(2.0,2.0))' && stbox 'STBOX XT(((1.0,2.0),(1.0,2.0)),[2000-01-01,2000-01-01])';
----
true

query I
SELECT stbox 'STBOX X((1.0,1.0),(2.0,2.0))' && stbox 'STBOX XT(((3.0,4.0),(3.0,4.0)),[2000-01-01,2000-01-01])';
----
false

query I
SELECT stbox 'STBOX X((1.0,1.0),(2.0,2.0))' @> stbox 'STBOX XT(((1.0,2.0),(1.0,2.0)),[2000-01-01,2000-01-01])';
----
true

query I
SELECT stbox 'STBOX X((1.0,1.0),(2.0,2.0))' @> stbox 'STBOX XT(((3.0,4.0),(3.0,4.0)),[2000-01-01,2000-01-01])';
----
false

query I
SELECT STBOX(ST_Point(1, 1)::WKB_BLOB, '2025-01-01'::TIMESTAMPTZ);
----
STBOX XT(((1,1),(1,1)),[2025-01-01 00:00:00+00, 2025-01-01 00:00:00+00])

query I
SELECT STBOX(ST_Point(1, 1)::WKB_BLOB, TSTZSPAN '[2001-01-01,2001-01-04]');
----
STBOX XT(((1,1),(1,1)),[2001-01-01 00:00:00+00, 2001-01-04 00:00:00+00])